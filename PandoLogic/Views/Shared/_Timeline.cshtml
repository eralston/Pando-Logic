@using PandoLogic.Models
@model IEnumerable<Activity>


@{
    DateTime? currentDateTime = null;
}

@if (Model.Count() > 0)
{
    <ul class="timeline">

        @foreach (Activity activity in Model)
        {
            if (!currentDateTime.HasValue || currentDateTime.Value.Date != activity.CreatedDate.Value.Date)
            {
                currentDateTime = activity.CreatedDate;
                <li class="time-label">
                    <span class="bg-aqua">
                        @currentDateTime.Value.ToString("D")
                    </span>
                </li>
            }

            bool hasDescription = !string.IsNullOrEmpty(activity.Description);
            string headerClass = hasDescription ? "" : " no-border ";

            <li>
                <i class="fa @Activity.ClassesForActivityType(activity.Type)"></i>
                <div class="timeline-item">
                    <span class="time"><i class="fa fa-clock-o"></i> @activity.CreatedDate.Value.ToString("t")</span>

                    <h3 class="timeline-header @headerClass">@activity.Title</h3>

                    @if (hasDescription)
                    {
                        <div class="timeline-body">
                            @activity.Description
                        </div>
                    }
                </div>
            </li>
        }
    </ul>
}